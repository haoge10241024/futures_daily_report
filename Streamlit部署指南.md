# Streamlit Cloud éƒ¨ç½²æŒ‡å—

## ğŸ¯ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•å°†**æœŸè´§æ—¥æŠ¥ç”Ÿæˆå™¨ï¼ˆAIèµ‹èƒ½ç‰ˆï¼‰**éƒ¨ç½²åˆ°Streamlit Cloudï¼Œè®©ç”¨æˆ·é€šè¿‡ç½‘é¡µè®¿é—®ä½¿ç”¨ã€‚

---

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. å¿…éœ€æ¡ä»¶

- âœ… GitHubè´¦å·
- âœ… é¡¹ç›®ä»£ç å·²å‡†å¤‡å¥½
- âœ… `requirements.txt`æ–‡ä»¶å·²é…ç½®
- âœ… ä»£ç ä¸­ä¸åŒ…å«ç¡¬ç¼–ç çš„APIå¯†é’¥

### 2. æ–‡ä»¶æ£€æŸ¥æ¸…å•

ç¡®ä¿é¡¹ç›®åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

```
æœŸè´§æ—¥æŠ¥/
â”œâ”€â”€ æœŸè´§æ—¥æŠ¥_AIå¢å¼ºä¸“ä¸šç‰ˆ.py  # ä¸»ç¨‹åº
â”œâ”€â”€ requirements.txt           # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ .gitignore                 # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ APIé…ç½®è¯´æ˜.md             # APIé…ç½®æŒ‡å—
â””â”€â”€ Streamlitéƒ¨ç½²æŒ‡å—.md       # æœ¬æ–‡æ¡£
```

### 3. requirements.txtæ£€æŸ¥

ç¡®ä¿åŒ…å«æ‰€æœ‰ä¾èµ–ï¼š

```txt
streamlit>=1.28.0
akshare>=1.12.0
pandas>=2.0.0
python-docx>=0.8.11
matplotlib>=3.7.0
mplfinance>=0.12.9
requests>=2.31.0
beautifulsoup4>=4.12.0
feedparser>=6.0.10
lxml>=4.9.0
```

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡Gitä»“åº“

#### 1.1 åˆå§‹åŒ–Gitä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```bash
cd æœŸè´§æ—¥æŠ¥
git init
```

#### 1.2 åˆ›å»º.gitignoreæ–‡ä»¶

```bash
# åˆ›å»º.gitignore
echo ".env" >> .gitignore
echo "__pycache__/" >> .gitignore
echo "*.pyc" >> .gitignore
echo ".DS_Store" >> .gitignore
echo "*.log" >> .gitignore
echo "k_line_chart.png" >> .gitignore
echo "æœŸè´§æ—¥æŠ¥_*/" >> .gitignore
```

æˆ–æ‰‹åŠ¨åˆ›å»º`.gitignore`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
# ç¯å¢ƒå˜é‡ï¼ˆä¸è¦ä¸Šä¼ APIå¯†é’¥ï¼‰
.env

# Python
__pycache__/
*.pyc
*.pyo
*.pyd

# ç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db

# æ—¥å¿—æ–‡ä»¶
*.log

# ç”Ÿæˆçš„æ–‡ä»¶
k_line_chart.png
æœŸè´§æ—¥æŠ¥_*/
```

#### 1.3 æäº¤ä»£ç 

```bash
# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "Initial commit: æœŸè´§æ—¥æŠ¥ç”Ÿæˆå™¨ v4.1"
```

#### 1.4 æ¨é€åˆ°GitHub

```bash
# åœ¨GitHubä¸Šåˆ›å»ºæ–°ä»“åº“ï¼ˆå‡è®¾åä¸º futures-daily-reportï¼‰
# ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤

git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/futures-daily-report.git
git branch -M main
git push -u origin main
```

---

### ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²åˆ°Streamlit Cloud

#### 2.1 è®¿é—®Streamlit Cloud

è®¿é—®ï¼šhttps://streamlit.io/cloud

ç‚¹å‡» **"Sign in with GitHub"**

#### 2.2 åˆ›å»ºæ–°åº”ç”¨

1. ç‚¹å‡» **"New app"** æŒ‰é’®

2. å¡«å†™éƒ¨ç½²ä¿¡æ¯ï¼š
   - **Repositoryï¼š** é€‰æ‹©æ‚¨çš„GitHubä»“åº“
   - **Branchï¼š** `main`ï¼ˆæˆ–æ‚¨çš„ä¸»åˆ†æ”¯ï¼‰
   - **Main file pathï¼š** `æœŸè´§æ—¥æŠ¥_AIå¢å¼ºä¸“ä¸šç‰ˆ.py`

3. ï¼ˆå¯é€‰ï¼‰é«˜çº§è®¾ç½®ï¼š
   - **Python versionï¼š** 3.9 æˆ– 3.10
   - **Custom subdomainï¼š** è‡ªå®šä¹‰è®¿é—®åŸŸå

#### 2.3 ç‚¹å‡»Deploy

ç‚¹å‡» **"Deploy!"** æŒ‰é’®ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆé€šå¸¸éœ€è¦3-5åˆ†é’Ÿï¼‰

#### 2.4 éƒ¨ç½²æˆåŠŸ

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šå¾—åˆ°ä¸€ä¸ªå…¬å¼€è®¿é—®é“¾æ¥ï¼Œä¾‹å¦‚ï¼š

```
https://ä½ çš„ç”¨æˆ·å-futures-daily-report-xxx.streamlit.app
```

---

## ğŸ”§ éƒ¨ç½²åé…ç½®

### æ— éœ€é…ç½®ï¼

**é‡è¦ï¼š** ç”±äºæˆ‘ä»¬é‡‡ç”¨äº†ç”¨æˆ·ä¾§é…ç½®çš„æ–¹å¼ï¼Œéƒ¨ç½²åï¼š

- âœ… ä¸éœ€è¦åœ¨Streamlit Cloudé…ç½®APIå¯†é’¥
- âœ… ä¸éœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡
- âœ… æ¯ä¸ªç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„APIå¯†é’¥
- âœ… æ›´å®‰å…¨ã€æ›´çµæ´»

### ç”¨æˆ·ä½¿ç”¨æµç¨‹

1. ç”¨æˆ·è®¿é—®æ‚¨çš„åº”ç”¨é“¾æ¥
2. åœ¨å·¦ä¾§è¾¹æ è¾“å…¥è‡ªå·±çš„APIå¯†é’¥ï¼š
   - DeepSeek API Key
   - Serper API Key
3. ç³»ç»ŸéªŒè¯å¹¶æ˜¾ç¤ºé…ç½®çŠ¶æ€
4. é…ç½®å®Œæˆåå³å¯æ­£å¸¸ä½¿ç”¨

---

## ğŸ¨ è‡ªå®šä¹‰é…ç½®ï¼ˆå¯é€‰ï¼‰

### 1. è‡ªå®šä¹‰åŸŸå

åœ¨Streamlit Cloudçš„åº”ç”¨è®¾ç½®ä¸­ï¼š
- Settings â†’ General â†’ App URL
- å¯ä»¥ä¿®æ”¹å­åŸŸå

### 2. è®¾ç½®åº”ç”¨å›¾æ ‡

åœ¨`æœŸè´§æ—¥æŠ¥_AIå¢å¼ºä¸“ä¸šç‰ˆ.py`ä¸­ï¼š

```python
st.set_page_config(
    page_title="æœŸè´§æ—¥æŠ¥ç”Ÿæˆå™¨ï¼ˆAIèµ‹èƒ½ç‰ˆï¼‰",
    page_icon="ğŸ“Š",  # å¯ä»¥æ”¹ä¸ºå…¶ä»–emojiæˆ–å›¾ç‰‡è·¯å¾„
    layout="wide"
)
```

### 3. æ·»åŠ Google Analyticsï¼ˆå¯é€‰ï¼‰

åœ¨Streamlit Cloudçš„åº”ç”¨è®¾ç½®ä¸­ï¼š
- Settings â†’ Advanced â†’ Analytics

---

## ğŸ“Š ç›‘æ§å’Œç®¡ç†

### æŸ¥çœ‹åº”ç”¨çŠ¶æ€

åœ¨Streamlit Cloud dashboardä¸­å¯ä»¥æŸ¥çœ‹ï¼š
- âœ… åº”ç”¨è¿è¡ŒçŠ¶æ€
- âœ… è®¿é—®æ—¥å¿—
- âœ… èµ„æºä½¿ç”¨æƒ…å†µ
- âœ… é”™è¯¯æ—¥å¿—

### æ›´æ–°åº”ç”¨

æœ‰ä¸¤ç§æ–¹å¼æ›´æ–°åº”ç”¨ï¼š

#### æ–¹æ³•1ï¼šæ¨é€ä»£ç ï¼ˆè‡ªåŠ¨éƒ¨ç½²ï¼‰

```bash
# ä¿®æ”¹ä»£ç å
git add .
git commit -m "æ›´æ–°è¯´æ˜"
git push

# Streamlit Cloudä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°éƒ¨ç½²
```

#### æ–¹æ³•2ï¼šæ‰‹åŠ¨é‡å¯

åœ¨Streamlit Cloud dashboardä¸­ï¼š
- ç‚¹å‡» "â‹®" â†’ "Reboot app"

---

## ğŸ”’ å®‰å…¨æ€§æœ€ä½³å®è·µ

### âœ… å·²å®ç°çš„å®‰å…¨æªæ–½

1. **APIå¯†é’¥ä¸åœ¨ä»£ç ä¸­**
   ```python
   # âœ… æ­£ç¡®åšæ³•
   DEFAULT_DEEPSEEK_API_KEY = os.getenv("DEEPSEEK_API_KEY", "")
   ```

2. **ä½¿ç”¨passwordè¾“å…¥æ¡†**
   ```python
   # âœ… å¯†é’¥ä¸ä¼šåœ¨å±å¹•ä¸Šæ˜æ–‡æ˜¾ç¤º
   st.sidebar.text_input("API Key", type="password")
   ```

3. **ä¼šè¯çº§å­˜å‚¨**
   - APIå¯†é’¥ä»…åœ¨å½“å‰ä¼šè¯æœ‰æ•ˆ
   - ä¸ä¼šä¿å­˜åˆ°æ•°æ®åº“æˆ–æ–‡ä»¶

4. **.gitignoreé…ç½®**
   - `.env`æ–‡ä»¶ä¸ä¼šä¸Šä¼ åˆ°GitHub

### âš ï¸ éœ€è¦æ³¨æ„çš„

1. **ä¸è¦åœ¨æˆªå›¾ä¸­æ˜¾ç¤ºAPIå¯†é’¥**
2. **ä¸è¦åœ¨æ–‡æ¡£ä¸­å†™å…¥çœŸå®å¯†é’¥**
3. **å®šæœŸæ›´æ¢APIå¯†é’¥**
4. **ç›‘æ§APIä½¿ç”¨é‡**

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: éƒ¨ç½²å¤±è´¥ï¼Œæ˜¾ç¤º"Module not found"

**åŸå› ï¼š** `requirements.txt`ä¸­ç¼ºå°‘æŸä¸ªä¾èµ–åŒ…

**è§£å†³æ–¹æ³•ï¼š**
```bash
# åœ¨æœ¬åœ°æµ‹è¯•
pip install -r requirements.txt
streamlit run æœŸè´§æ—¥æŠ¥_AIå¢å¼ºä¸“ä¸šç‰ˆ.py

# ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½æ­£å¸¸åï¼Œå†æ¨é€ä»£ç 
git add requirements.txt
git commit -m "æ›´æ–°ä¾èµ–"
git push
```

---

### Q2: éƒ¨ç½²ååº”ç”¨åŠ è½½å¾ˆæ…¢

**åŸå› ï¼š** å¯èƒ½æ˜¯é¦–æ¬¡åŠ è½½ï¼Œéœ€è¦å®‰è£…ä¾èµ–

**è§£å†³æ–¹æ³•ï¼š**
- é¦–æ¬¡éƒ¨ç½²é€šå¸¸éœ€è¦3-5åˆ†é’Ÿ
- åç»­è®¿é—®ä¼šå¿«å¾ˆå¤š
- å¦‚æœæŒç»­å¾ˆæ…¢ï¼Œæ£€æŸ¥ä»£ç æ˜¯å¦æœ‰æ­»å¾ªç¯æˆ–å¤§é‡è®¡ç®—

---

### Q3: å¦‚ä½•æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼Ÿ

**æ–¹æ³•1ï¼š** åœ¨Streamlit Cloud dashboard
- ç‚¹å‡»åº”ç”¨ â†’ Logs â†’ æŸ¥çœ‹å®æ—¶æ—¥å¿—

**æ–¹æ³•2ï¼š** åœ¨åº”ç”¨é¡µé¢
- ç‚¹å‡»å³ä¸‹è§’çš„ "Manage app" â†’ View logs

---

### Q4: åº”ç”¨å¯ä»¥è¢«æ‰€æœ‰äººè®¿é—®å—ï¼Ÿ

**é»˜è®¤ï¼š** æ˜¯çš„ï¼Œéƒ¨ç½²åçš„åº”ç”¨æ˜¯å…¬å¼€çš„

**é™åˆ¶è®¿é—®ï¼š**
- åœ¨Streamlit Cloudçš„å…è´¹ç‰ˆä¸­ï¼Œæ— æ³•é™åˆ¶è®¿é—®
- å¦‚éœ€é™åˆ¶ï¼Œå¯ä»¥ï¼š
  1. å‡çº§åˆ°Streamlit Teams
  2. æˆ–åœ¨ä»£ç ä¸­æ·»åŠ å¯†ç éªŒè¯

---

### Q5: å…è´¹ç‰ˆæœ‰ä»€ä¹ˆé™åˆ¶ï¼Ÿ

**Streamlit Cloudå…è´¹ç‰ˆé™åˆ¶ï¼š**
- âœ… 1ä¸ªå…¬å¼€åº”ç”¨
- âœ… èµ„æºï¼š1 GBå†…å­˜ï¼Œ1 CPU
- âš ï¸ å¦‚æœ7å¤©æ— äººè®¿é—®ï¼Œåº”ç”¨ä¼šä¼‘çœ 
- âš ï¸ ä¸æ”¯æŒç§æœ‰åº”ç”¨ï¼ˆéœ€è¦å‡çº§ï¼‰

---

### Q6: å¦‚ä½•æ·»åŠ å¯†ç ä¿æŠ¤ï¼Ÿ

å¯ä»¥ä½¿ç”¨`streamlit-authenticator`åº“ï¼š

```python
import streamlit_authenticator as stauth

# é…ç½®ç”¨æˆ·å’Œå¯†ç 
names = ['ç”¨æˆ·1']
usernames = ['user1']
passwords = ['password123']

# åˆ›å»ºè®¤è¯å™¨
authenticator = stauth.Authenticate(names, usernames, passwords, 
                                     'cookie_name', 'signature_key')

# æ·»åŠ ç™»å½•è¡¨å•
name, authentication_status, username = authenticator.login('Login', 'main')

if authentication_status:
    # æ˜¾ç¤ºåº”ç”¨å†…å®¹
    st.write('æ¬¢è¿')
elif authentication_status == False:
    st.error('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯')
elif authentication_status == None:
    st.warning('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ')
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ä½¿ç”¨st.cache_dataç¼“å­˜æ•°æ®

```python
@st.cache_data(ttl=3600)  # ç¼“å­˜1å°æ—¶
def get_market_data(symbol):
    # è·å–å¸‚åœºæ•°æ®
    return data
```

### 2. å¼‚æ­¥åŠ è½½

å¯¹äºè€—æ—¶æ“ä½œï¼Œä½¿ç”¨`st.spinner`æç¤ºç”¨æˆ·ï¼š

```python
with st.spinner("æ­£åœ¨ç”ŸæˆKçº¿å›¾..."):
    # è€—æ—¶æ“ä½œ
    result = generate_kline()
```

### 3. å‡å°‘é‡å¤è¯·æ±‚

ä½¿ç”¨session_stateå­˜å‚¨æ•°æ®ï¼Œé¿å…é‡å¤è¯·æ±‚ï¼š

```python
if 'market_data' not in st.session_state:
    st.session_state.market_data = fetch_data()
```

---

## ğŸ¯ éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰è¯·ç¡®è®¤ï¼š

- [ ] ä»£ç ä¸­æ²¡æœ‰ç¡¬ç¼–ç çš„APIå¯†é’¥
- [ ] `.env`æ–‡ä»¶åœ¨`.gitignore`ä¸­
- [ ] `requirements.txt`åŒ…å«æ‰€æœ‰ä¾èµ–
- [ ] ä»£ç åœ¨æœ¬åœ°è¿è¡Œæ­£å¸¸
- [ ] å·²æ¨é€åˆ°GitHub
- [ ] åœ¨Streamlit Cloudåˆ›å»ºåº”ç”¨
- [ ] åº”ç”¨éƒ¨ç½²æˆåŠŸå¹¶å¯è®¿é—®
- [ ] æµ‹è¯•APIå¯†é’¥é…ç½®åŠŸèƒ½
- [ ] æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸

---

## ğŸ”— ç›¸å…³èµ„æº

- **Streamlitå®˜æ–¹æ–‡æ¡£ï¼š** https://docs.streamlit.io/
- **Streamlit Cloudæ–‡æ¡£ï¼š** https://docs.streamlit.io/streamlit-community-cloud
- **GitHub Pagesï¼š** https://pages.github.com/
- **é¡¹ç›®READMEï¼š** [README.md](README.md)
- **APIé…ç½®è¯´æ˜ï¼š** [APIé…ç½®è¯´æ˜.md](APIé…ç½®è¯´æ˜.md)

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»ï¼š
- **é‚®ç®±ï¼š** 953534947@qq.com
- **ä½œè€…ï¼š** 7haoge

---

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

æ­å–œï¼æ‚¨çš„æœŸè´§æ—¥æŠ¥ç”Ÿæˆå™¨ç°åœ¨å·²ç»å¯ä»¥é€šè¿‡ç½‘é¡µè®¿é—®äº†ï¼

**åˆ†äº«æ‚¨çš„åº”ç”¨ï¼š**
```
https://ä½ çš„ç”¨æˆ·å-futures-daily-report-xxx.streamlit.app
```

**ä¸‹ä¸€æ­¥ï¼š**
1. åˆ†äº«é“¾æ¥ç»™ç”¨æˆ·
2. æ”¶é›†ç”¨æˆ·åé¦ˆ
3. æŒç»­æ”¹è¿›åŠŸèƒ½
4. å®šæœŸæ›´æ–°ç»´æŠ¤

---

**æ›´æ–°æ—¥æœŸï¼š** 2025-10-13
**ç‰ˆæœ¬ï¼š** v4.1ï¼ˆæ”¯æŒåœ¨çº¿éƒ¨ç½²ï¼‰

